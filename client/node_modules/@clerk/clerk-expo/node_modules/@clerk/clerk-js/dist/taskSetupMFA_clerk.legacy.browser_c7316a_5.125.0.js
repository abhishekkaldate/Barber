"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["9607"],{95710:function(e,t,o){o.r(t),o.d(t,{TaskSetupMFA:()=>q});var a=o(73312),n=o(61869),r=o(69144),i=o(96231),l=o(11576),s=o(86988),c=o(64204),d=o(2672),u=o(85390),p=o(31753),h=o(42305),b=o(92418),f=o(92654),S=o(48774),m=o(96519);let y={phone_code:1,totp:2};var k=o(54264),g=o(98690);function C(){let{user:e}=(0,n.aF)(),t=(0,n.cL)(),{session:o}=(0,n.kP)(),{otherSessions:i}=(0,k.j)({user:e}),{navigateAfterSignOut:s,navigateAfterMultiSessionSingleSignOutUrl:d}=(0,l.useSignOutContext)(),u=r.useMemo(()=>e?(e=>{var t,o,a,n,r;let i=(null==(t=e.primaryPhoneNumber)?void 0:t.phoneNumber)?(0,g.L_)(null==(o=e.primaryPhoneNumber)?void 0:o.phoneNumber):null;return null!=(r=null!=(n=null==(a=e.primaryEmailAddress)?void 0:a.emailAddress)?n:e.username)?r:i})(e):null,[e]);return(0,a.BX)(b.Z.Action,{elementId:"signOut",gap:4,justify:"center",sx:()=>({width:"100%"}),children:[u&&(0,a.tZ)(b.Z.ActionText,{truncate:!0,localizationKey:(0,c.localizationKeys)("taskSetupMfa.signOut.actionText",{identifier:u})}),(0,a.tZ)(b.Z.ActionLink,{sx:()=>({flexShrink:0}),onClick:()=>void(0===i.length?t.signOut(s):t.signOut(d,{sessionId:null==o?void 0:o.id})),localizationKey:(0,c.localizationKeys)("taskSetupMfa.signOut.actionLink")})]})}let v={totp:{icon:(0,a.tZ)(c.Icon,{icon:m.hc}),label:(0,c.localizationKeys)("taskSetupMfa.start.methodSelection.totp")},phone_code:{icon:(0,a.tZ)(c.Icon,{icon:m.ij}),label:(0,c.localizationKeys)("taskSetupMfa.start.methodSelection.phoneCode")}},Z=(0,d.withCardStateProvider)(e=>{let{availableMethods:t,goToStep:o}=e,n=(0,d.useCardState)();return(0,a.BX)(b.Z.Root,{children:[(0,a.BX)(b.Z.Content,{sx:e=>({padding:e.space.$none}),children:[(0,a.BX)(f.h.Root,{showLogo:!0,gap:4,sx:e=>({paddingTop:e.space.$8,paddingLeft:e.space.$8,paddingRight:e.space.$8}),children:[(0,a.tZ)(f.h.Title,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.start.title")}),(0,a.tZ)(f.h.Subtitle,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.start.subtitle")})]}),n.error&&(0,a.tZ)(c.Flex,{sx:e=>({paddingInline:e.space.$8}),children:(0,a.tZ)(b.Z.Alert,{children:n.error})}),(0,a.tZ)(h.eX,{role:"menu",elementDescriptor:c.descriptors.taskSetupMfaMethodSelectionItems,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100}),children:t.map(e=>{var t;let n=null!=(t=v[e])?t:null;return n?(0,a.tZ)(S.K,{elementDescriptor:c.descriptors.taskSetupMfaMethodSelectionItem,hoverAsFocus:!0,block:!0,onClick:()=>{o(y[e])},children:(0,a.BX)(c.Flex,{sx:e=>({gap:e.space.$2,alignItems:"center"}),children:[(0,a.tZ)(c.Flex,{sx:e=>({borderRadius:e.radii.$circle,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$avatarBorder,padding:e.space.$2,backgroundColor:e.colors.$neutralAlpha50}),children:n.icon}),(0,a.tZ)(c.Text,{variant:"buttonLarge",localizationKey:n.label})]})},e):null})})]}),(0,a.tZ)(b.Z.Footer,{children:(0,a.tZ)(C,{})})]})});var T=o(85838),K=o(70431),x=o(19460),z=o(67263),B=o(23465),M=o(88870),$=o(36788);let A=e=>(null==e?void 0:e.phoneNumbers.filter(t=>{var o;let a=(null==e?void 0:e.primaryEmailAddress)!==null||(null==e?void 0:e.primaryWeb3Wallet)!==null||(null==e?void 0:e.passkeys.length)>0||(null==e?void 0:e.externalAccounts.length)>0||(null==e?void 0:e.enterpriseAccounts.length)>0||(null==e?void 0:e.username)!==null;return(t.id!==(null==e||null==(o=e.primaryPhoneNumber)?void 0:o.id)||!!a)&&!t.reservedForSecondFactor}))||[],P=(0,d.withCardStateProvider)(e=>{var t;let{onSuccess:o,resourceRef:i,onReset:l}=e,s=(0,d.useCardState)(),u=i.current,p=(0,n.WZ)(()=>null==u?void 0:u.setReservedForSecondFactor({reserved:!0})),h=()=>{var e,t,o;return null==(o=i.current)||null==(t=o.prepareVerification)||null==(e=t.call(o))?void 0:e.catch(e=>(0,M.S3)(e,[],s.setError))},f=async()=>{s.setLoading(null==u?void 0:u.id);try{i.current=await p(),o()}catch(e){(0,M.S3)(e,[],s.setError)}finally{s.setIdle()}};return r.useEffect(()=>{h()},[]),(0,a.tZ)(b.Z.Content,{children:(0,a.tZ)(B.A,{cardTitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.title"),cardSubtitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.subtitle"),safeIdentifier:(null==(t=i.current)?void 0:t.phoneNumber)||"",inputLabel:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.formTitle"),resendButton:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.resendButton"),badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),onCodeEntryFinishedAction:(e,t,o)=>{var a;null==(a=i.current)||a.attemptVerification({code:e}).then(async()=>{await t(),await f()}).catch(o)},onResendCodeClicked:()=>void h(),onIdentityPreviewEditClicked:()=>l(),onBackLinkClicked:()=>l(),backLinkLabel:(0,c.localizationKeys)("taskSetupMfa.smsCode.cancel")})})}),R=(0,d.withCardStateProvider)(e=>{let{resourceRef:t,onSuccess:o,onReset:r}=e,i=(0,d.useCardState)(),{user:l}=(0,n.aF)(),s=(0,n.WZ)((e,t)=>e.createPhoneNumber(t)),u=(0,$.Yp)("phoneNumber","",{type:"tel",label:(0,c.localizationKeys)("formFieldLabel__phoneNumber"),isRequired:!0}),p=u.value.length>1&&(null==l?void 0:l.username)!==u.value,h=async e=>{e.preventDefault(),l&&await i.runAsync(async()=>{try{t.current=await s(l,{phoneNumber:u.value}),o()}catch(e){(0,M.S3)(e,[u],i.setError)}})};return(0,a.BX)(b.Z.Content,{children:[(0,a.BX)(f.h.Root,{gap:4,badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),children:[(0,a.tZ)(f.h.Title,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhoneNumber")}),(0,a.tZ)(f.h.Subtitle,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhone.infoText")})]}),(0,a.tZ)(b.Z.Alert,{children:i.error}),(0,a.BX)(K.l.Root,{onSubmit:h,children:[(0,a.tZ)(K.l.ControlRow,{elementId:u.id,children:(0,a.tZ)(K.l.PhoneInput,{...u.props,autoFocus:!0})}),(0,a.BX)(x.K,{sx:e=>({flexDirection:"column",gap:e.space.$4}),children:[(0,a.tZ)(K.l.SubmitButton,{hasArrow:!0,isDisabled:!p,localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhone.formButtonPrimary")}),(0,a.tZ)(K.l.ResetButton,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.cancel"),onClick:r})]})]})]})}),w=(0,d.withCardStateProvider)(e=>{var t;let{resourceRef:o,onFinish:n}=e;return(0,a.tZ)(b.Z.Content,{children:(0,a.tZ)(z.I,{title:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.title"),subtitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.message1"),headerBadgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),onFinish:n,contents:(0,a.tZ)(T.j,{backupCodes:null==(t=o.current)?void 0:t.backupCodes,subtitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.message2")}),finishLabel:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.finishButton"),finishButtonProps:{block:!0,hasArrow:!0}})})}),F=e=>{let{phone:t,onSuccess:o,onUnverifiedPhoneClick:r,resourceRef:i}=e,l=(0,d.useCardState)(),s=(0,n.WZ)(()=>t.setReservedForSecondFactor({reserved:!0})),{iso:u}=(0,g.y3)(t.phoneNumber),p=(0,g.uz)(u),h=(0,g.L_)(t.phoneNumber),b=async()=>{if("verified"!==t.verification.status)return r(t);l.setLoading(t.id);try{i.current=await s(),o()}catch(e){(0,M.S3)(e,[],l.setError)}finally{l.setIdle()}};return(0,a.tZ)(S.K,{isLoading:l.loadingMetadata===t.id,hoverAsFocus:!0,block:!0,elementDescriptor:c.descriptors.taskSetupMfaPhoneSelectionItem,sx:e=>({padding:"".concat(e.space.$4," ").concat(e.space.$6)}),onClick:()=>void b(),children:(0,a.BX)(c.Flex,{sx:e=>({gap:e.space.$4,alignItems:"center"}),children:[(0,a.tZ)(c.Text,{sx:e=>({fontSize:e.fontSizes.$lg}),children:p}),(0,a.tZ)(c.Text,{variant:"buttonLarge",children:h})]})})},X=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,onReset:o,onAddPhoneClick:r,onUnverifiedPhoneClick:i,resourceRef:l}=e,{user:s}=(0,n.aF)(),u=(0,d.useCardState)();if(!s)return null;let p=A(s);return(0,a.tZ)(c.Flow.Part,{part:"phoneCode",children:(0,a.BX)(b.Z.Content,{sx:e=>({padding:e.space.$none}),children:[(0,a.BX)(f.h.Root,{showLogo:!0,gap:4,badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),sx:e=>({paddingTop:e.space.$8,paddingInline:e.space.$8}),children:[(0,a.tZ)(f.h.Title,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.title")}),(0,a.tZ)(f.h.Subtitle,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.subtitle")})]}),u.error&&(0,a.tZ)(c.Flex,{sx:e=>({paddingInline:e.space.$8}),children:(0,a.tZ)(b.Z.Alert,{children:u.error})}),(0,a.BX)(c.Col,{children:[(0,a.BX)(h.eX,{role:"menu",elementDescriptor:c.descriptors.taskSetupMfaPhoneSelectionItems,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100}),children:[null==p?void 0:p.map(e=>(0,a.tZ)(F,{phone:e,onSuccess:t,onUnverifiedPhoneClick:i,resourceRef:l},e.id)),(0,a.tZ)(h.aU,{hoverAsFocus:!0,label:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhoneNumber"),block:!0,onClick:r,icon:m.mm,elementDescriptor:c.descriptors.taskSetupMfaPhoneSelectionAddPhoneAction,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,padding:"".concat(e.space.$4," ").concat(e.space.$4),gap:e.space.$2}),iconSx:e=>({width:e.sizes.$8,height:e.sizes.$6})})]}),(0,a.tZ)(c.Flex,{justify:"center",sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,padding:e.space.$4}),children:(0,a.tZ)(c.Button,{variant:"ghost",onClick:o,block:!0,elementDescriptor:c.descriptors.formButtonReset,localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.cancel")})})]})]})})}),_=e=>{let{onSuccess:t,goToStartStep:o}=e,{user:l}=(0,n.aF)(),s=(0,r.useRef)(),c=(0,r.useMemo)(()=>l?A(l):[],[l]),d=(0,i.a2)({defaultStep:2*!!(c.length>0)});return(0,a.BX)(b.Z.Root,{children:[(0,a.BX)(i.en,{...d.props,animate:!1,children:[(0,a.tZ)(R,{resourceRef:s,onSuccess:d.nextStep,onReset:()=>c.length>0?d.goToStep(2):o()}),(0,a.tZ)(P,{resourceRef:s,onSuccess:()=>d.goToStep(3),onReset:()=>d.goToStep(0)}),(0,a.tZ)(X,{availablePhones:c,onSuccess:d.nextStep,onReset:o,onAddPhoneClick:()=>d.goToStep(0),onUnverifiedPhoneClick:e=>{s.current=e,d.goToStep(1)},resourceRef:s}),(0,a.tZ)(w,{resourceRef:s,onFinish:t})]}),(0,a.tZ)(b.Z.Footer,{children:(0,a.tZ)(C,{})})]})};o(65223);var I=o(41024),L=o(68864),W=o(12667),N=o(68487),D=o(58104);let E=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,onReset:o}=e,{user:l}=(0,n.aF)(),s=(0,d.useCardState)(),u=(0,n.WZ)(()=>null==l?void 0:l.createTOTP()),[p,h]=r.useState(void 0),[b,f]=r.useState("qr");return r.useEffect(()=>{l&&u().then(e=>h(e)).catch(e=>(0,I.uX)(e)&&"reverification_cancelled"===e.code?o():(0,M.S3)(e,[],s.setError))},[]),(0,a.BX)(N.Y,{gap:8,headerTitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.title"),headerTitleTextVariant:"h2",headerSubtitle:"qr"===b?(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.infoText__ableToScan"):(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.infoText__unableToScan"),badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),children:[!p&&(0,a.tZ)(D.m,{}),p&&(0,a.BX)(a.HY,{children:[(0,a.BX)(c.Col,{gap:4,children:["qr"===b&&(0,a.tZ)(i.s_,{justify:"center",url:p.uri||""}),"uri"===b&&(0,a.BX)(a.HY,{children:[(0,a.tZ)(c.Text,{colorScheme:"secondary",localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.inputLabel__unableToScan1")}),(0,a.tZ)(L.D,{value:p.secret,copyIcon:m.uU,copiedIcon:m.Jr})]})]}),(0,a.BX)(c.Col,{sx:e=>({gap:e.space.$8}),children:["qr"===b&&(0,a.tZ)(c.Button,{variant:"outline",textVariant:"buttonLarge",onClick:()=>f("uri"),localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.buttonUnableToScan__nonPrimary")}),"uri"===b&&(0,a.tZ)(c.Button,{variant:"outline",block:!0,textVariant:"buttonLarge",onClick:()=>f("qr"),localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.buttonAbleToScan__nonPrimary")}),(0,a.BX)(x.K,{sx:e=>({flexDirection:"column",gap:e.space.$4}),children:[(0,a.tZ)(c.Button,{block:!0,onClick:t,hasArrow:!0,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.formButtonPrimary"),elementDescriptor:c.descriptors.formButtonPrimary}),(0,a.tZ)(c.Button,{block:!0,variant:"ghost",onClick:o,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.formButtonReset"),elementDescriptor:c.descriptors.formButtonReset})]})]})]})]})}),U=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,onReset:o,resourceRef:r}=e,{user:i}=(0,n.aF)(),l=(0,W.e3)({onCodeEntryFinished:(e,t,o)=>{null==i||i.verifyTOTP({code:e}).then(e=>t(e)).catch(o)},onResolve:e=>{r.current=e,t()}});return(0,a.BX)(N.Y,{gap:8,headerTitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.title"),headerTitleTextVariant:"h2",headerSubtitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.subtitle"),badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),children:[(0,a.tZ)(c.Col,{children:(0,a.tZ)(K.l.OTPInput,{...l,label:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.formTitle"),description:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.subtitle")})}),(0,a.BX)(x.K,{sx:e=>({flexDirection:"column",gap:e.space.$4}),children:[(0,a.tZ)(c.Button,{onClick:()=>l.onFakeContinue(),isDisabled:l.isLoading,hasArrow:!0,block:!0,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.formButtonPrimary"),elementDescriptor:c.descriptors.formButtonPrimary}),(0,a.tZ)(c.Button,{onClick:()=>null==o?void 0:o(),variant:"ghost",block:!0,isDisabled:l.isLoading,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.formButtonReset"),elementDescriptor:c.descriptors.formButtonReset})]})]})}),j=(0,d.withCardStateProvider)(e=>{var t;let{resourceRef:o,onFinish:n}=e;return(0,a.tZ)(z.I,{title:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.title"),subtitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.message1"),headerBadgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),onFinish:n,contents:(0,a.tZ)(T.j,{backupCodes:null==(t=o.current)?void 0:t.backupCodes,subtitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.message2")}),finishLabel:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.finishButton"),finishButtonProps:{block:!0,hasArrow:!0}})}),O=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,goToStartStep:o}=e,n=(0,r.useRef)(),l=(0,i.a2)({defaultStep:0});return(0,a.BX)(b.Z.Root,{children:[(0,a.tZ)(b.Z.Content,{children:(0,a.BX)(i.en,{...l.props,animate:!1,children:[(0,a.tZ)(E,{onSuccess:()=>l.goToStep(1),onReset:o}),(0,a.tZ)(U,{onSuccess:()=>l.goToStep(2),onReset:()=>l.goToStep(0),resourceRef:n}),(0,a.tZ)(j,{resourceRef:n,onFinish:t})]})}),(0,a.tZ)(b.Z.Footer,{children:(0,a.tZ)(C,{})})]})}),q=(0,l.withCoreSessionSwitchGuard)((0,p.R)((0,d.withCardStateProvider)(()=>{let e=(0,n.cL)(),{user:t}=(0,n.aF)(),{session:o}=(0,n.kP)(),{userSettings:{attributes:d}}=(0,l.useEnvironment)(),p=(0,r.useMemo)(()=>{let e=t?(0,u.kZ)(d,t):[];if(!(null==t?void 0:t.enterpriseAccounts)||0===t.enterpriseAccounts.length)return e;let o=null==t?void 0:t.enterpriseAccounts[0];return e.filter(e=>{if("phone_code"===e){var t;return(null==o||null==(t=o.enterpriseConnection)?void 0:t.disableAdditionalIdentifications)===!1}return!0})},[d,t]),h=p.indexOf("phone_code")>-1?1:2,b=(0,i.a2)({defaultStep:p.length>1?0:h}),{redirectUrlComplete:f}=(0,s.Id)(),{navigateOnSetActive:S,redirectOnActiveSession:m}=(0,s.G)(),y=async()=>{m&&(m.current=!1),await e.setActive({session:null==o?void 0:o.id,navigate:async e=>{let{session:t}=e;await (null==S?void 0:S({session:t,redirectUrlComplete:f}))}})};return(0,r.useEffect)(()=>{m&&(m.current=!1)},[m]),(0,a.tZ)(c.Flow.Root,{flow:"taskSetupMfa",children:(0,a.BX)(i.en,{...b.props,animate:!1,children:[(0,a.tZ)(c.Flow.Part,{part:"methodSelectionMFA",children:(0,a.tZ)(Z,{availableMethods:p,goToStep:b.goToStep})}),(0,a.tZ)(c.Flow.Part,{part:"phoneCode2Fa",children:(0,a.tZ)(_,{onSuccess:y,goToStartStep:()=>b.goToStep(0)})}),(0,a.tZ)(c.Flow.Part,{part:"totp2Fa",children:(0,a.tZ)(O,{onSuccess:y,goToStartStep:()=>b.goToStep(0)})})]})})}),"setup-mfa"))},31753:function(e,t,o){o.d(t,{R:()=>p,U:()=>i});var a=o(95274),n=o(96231),r=o(86988);let i=(e,t)=>{let o=e.displayName||e.name||"Component";e.displayName=o;let i=o=>{let i=(0,r.G)();return(0,n.me)(e,e=>{var o;return!(null==(o=e.session)?void 0:o.currentTask)||e.session.currentTask.key!==t&&!e.__internal_setActiveInProgress},e=>{var t;let{clerk:o}=e;return o.session?null!=(t=i.redirectUrlComplete)?t:o.buildAfterSignInUrl():o.buildSignInUrl()},a.q.cannotRenderComponentWhenTaskDoesNotExist)(o)};return i.displayName="withTaskGuard(".concat(o,")"),i};var l=o(73312),s=o(43227),c=o(61869),d=o(69144),u=o(24676);let p=(e,t)=>{let o=e.displayName||e.name||"Component";e.displayName=o;let n=o=>{let n=(0,r.G)(),i=(0,c.cL)(),{navigate:p}=(0,u.useRouter)(),h=(0,d.useRef)(null);if(null===h.current){var b;h.current=!(null==(b=i.session)?void 0:b.currentTask)||i.session.currentTask.key!==t&&!i.__internal_setActiveInProgress}return((0,d.useEffect)(()=>{if(h.current){var e;(0,s.kZ)(i.publishableKey)&&console.info(a.q.cannotRenderComponentWhenTaskDoesNotExist),p(i.session?null!=(e=n.redirectUrlComplete)?e:i.buildAfterSignInUrl():i.buildSignInUrl())}},[]),h.current)?null:(0,l.tZ)(e,{...o})};return n.displayName="withTaskGuardOnlyOnMount(".concat(o,")"),n}},85838:function(e,t,o){o.d(t,{j:()=>p}),o(91634),o(98383),o(45261),o(70957),o(24551),o(22349),o(65223);var a=o(73312),n=o(61869),r=o(95878),i=o(96231),l=o(11576),s=o(64204),c=o(65695),d=o(96519);let u=e=>{let{code:t}=e;return(0,a.tZ)(s.Flex,{center:!0,sx:e=>({padding:"".concat(e.space.$1," ").concat(e.space.$4)}),children:(0,a.tZ)(s.Text,{children:t})})},p=e=>{let{subtitle:t,backupCodes:o}=e,{applicationName:p}=(0,l.useEnvironment)().displayConfig,{user:h}=(0,n.aF)(),{print:b,printableProps:f}=(0,i.Qz)(),{onCopy:S,hasCopied:m}=(0,c.VP)((null==o?void 0:o.join(","))||"");if(!h)return null;let y=(0,r.xC)(h);return o?(0,a.BX)(a.HY,{children:[(0,a.BX)(s.Col,{gap:1,children:[(0,a.tZ)(s.Text,{localizationKey:(0,s.localizationKeys)("userProfile.backupCodePage.title__codelist"),variant:"subtitle"}),(0,a.tZ)(s.Text,{localizationKey:t,variant:"caption",colorScheme:"secondary"})]}),(0,a.BX)(s.Box,{sx:e=>({borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$borderAlpha100,borderRadius:e.radii.$lg}),children:[(0,a.tZ)(s.Grid,{gap:2,sx:e=>({gridTemplateColumns:"repeat(2, minmax(".concat(e.sizes.$12,", 1fr))"),padding:"".concat(e.space.$4," ").concat(e.space.$6)}),children:o.map((e,t)=>(0,a.tZ)(u,{code:e},t))}),(0,a.BX)(s.Grid,{sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,gridTemplateColumns:"repeat(3, minmax(0, 1fr))",">:not([hidden])~:not([hidden])":{borderRightWidth:"0px",borderLeftWidth:"1px",borderStyle:"solid",borderColor:e.colors.$borderAlpha100},">:first-child":{borderBottomLeftRadius:e.radii.$lg},">:last-child":{borderBottomRightRadius:e.radii.$lg}}),children:[(0,a.tZ)(s.Button,{variant:"ghost",sx:e=>({width:"100%",padding:"".concat(e.space.$2," 0"),borderRadius:0}),onClick:()=>{let e=document.createElement("a"),t=new Blob([function(e,t,o){let a=null==e?void 0:e.join("\n");return"These are your backup codes for ".concat(t," account ").concat(o,".\nStore them securely and keep them secret. Each code can only be used once.\n\n").concat(a)}(o,p,y)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="".concat(p,"_backup_codes.txt"),document.body.appendChild(e),e.click()},children:(0,a.tZ)(s.Icon,{icon:d.UW})}),(0,a.tZ)(s.Button,{variant:"ghost",sx:e=>({width:"100%",padding:"".concat(e.space.$2," 0"),borderRadius:0}),onClick:b,children:(0,a.tZ)(s.Icon,{icon:d.Kh})}),(0,a.tZ)(s.Button,{variant:"ghost",onClick:S,sx:e=>({width:"100%",padding:"".concat(e.space.$2," 0"),borderRadius:0}),children:(0,a.tZ)(s.Icon,{icon:m?d.Jr:d.CK})})]})]}),(0,a.BX)(i.o4,{...f,children:[(0,a.BX)(s.Heading,{children:["Your backup codes for ",p," account ",y,":"]}),(0,a.tZ)(s.Col,{gap:2,children:o.map((e,t)=>(0,a.tZ)(u,{code:e},t))})]})]}):null}}}]);