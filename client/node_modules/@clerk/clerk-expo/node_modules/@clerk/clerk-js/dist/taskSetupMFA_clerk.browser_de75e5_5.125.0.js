"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["9607"],{95710:function(e,t,o){o.r(t),o.d(t,{TaskSetupMFA:()=>q});var r=o(73312),a=o(61869),i=o(69144),n=o(96231),l=o(11576),s=o(86988),c=o(64204),d=o(2672),u=o(85390),p=o(31753),h=o(42305),b=o(92418),S=o(92654),f=o(48774),m=o(34174);let y={phone_code:1,totp:2};var k=o(54264),g=o(98690);function C(){let{user:e}=(0,a.aF)(),t=(0,a.cL)(),{session:o}=(0,a.kP)(),{otherSessions:n}=(0,k.j)({user:e}),{navigateAfterSignOut:s,navigateAfterMultiSessionSingleSignOutUrl:d}=(0,l.useSignOutContext)(),u=i.useMemo(()=>e?(e=>{let t=e.primaryPhoneNumber?.phoneNumber?(0,g.L_)(e.primaryPhoneNumber?.phoneNumber):null;return e.primaryEmailAddress?.emailAddress??e.username??t})(e):null,[e]);return(0,r.BX)(b.Z.Action,{elementId:"signOut",gap:4,justify:"center",sx:()=>({width:"100%"}),children:[u&&(0,r.tZ)(b.Z.ActionText,{truncate:!0,localizationKey:(0,c.localizationKeys)("taskSetupMfa.signOut.actionText",{identifier:u})}),(0,r.tZ)(b.Z.ActionLink,{sx:()=>({flexShrink:0}),onClick:()=>void(0===n.length?t.signOut(s):t.signOut(d,{sessionId:o?.id})),localizationKey:(0,c.localizationKeys)("taskSetupMfa.signOut.actionLink")})]})}let Z={totp:{icon:(0,r.tZ)(c.Icon,{icon:m.hc}),label:(0,c.localizationKeys)("taskSetupMfa.start.methodSelection.totp")},phone_code:{icon:(0,r.tZ)(c.Icon,{icon:m.ij}),label:(0,c.localizationKeys)("taskSetupMfa.start.methodSelection.phoneCode")}},T=(0,d.withCardStateProvider)(e=>{let{availableMethods:t,goToStep:o}=e,a=(0,d.useCardState)();return(0,r.BX)(b.Z.Root,{children:[(0,r.BX)(b.Z.Content,{sx:e=>({padding:e.space.$none}),children:[(0,r.BX)(S.h.Root,{showLogo:!0,gap:4,sx:e=>({paddingTop:e.space.$8,paddingLeft:e.space.$8,paddingRight:e.space.$8}),children:[(0,r.tZ)(S.h.Title,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.start.title")}),(0,r.tZ)(S.h.Subtitle,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.start.subtitle")})]}),a.error&&(0,r.tZ)(c.Flex,{sx:e=>({paddingInline:e.space.$8}),children:(0,r.tZ)(b.Z.Alert,{children:a.error})}),(0,r.tZ)(h.eX,{role:"menu",elementDescriptor:c.descriptors.taskSetupMfaMethodSelectionItems,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100}),children:t.map(e=>{let t=Z[e]??null;return t?(0,r.tZ)(f.K,{elementDescriptor:c.descriptors.taskSetupMfaMethodSelectionItem,hoverAsFocus:!0,block:!0,onClick:()=>{o(y[e])},children:(0,r.BX)(c.Flex,{sx:e=>({gap:e.space.$2,alignItems:"center"}),children:[(0,r.tZ)(c.Flex,{sx:e=>({borderRadius:e.radii.$circle,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$avatarBorder,padding:e.space.$2,backgroundColor:e.colors.$neutralAlpha50}),children:t.icon}),(0,r.tZ)(c.Text,{variant:"buttonLarge",localizationKey:t.label})]})},e):null})})]}),(0,r.tZ)(b.Z.Footer,{children:(0,r.tZ)(C,{})})]})});var K=o(85838),x=o(70431),z=o(19460),$=o(67263),v=o(23465),B=o(88870),M=o(36788);let A=e=>e?.phoneNumbers.filter(t=>{let o=e?.primaryEmailAddress!==null||e?.primaryWeb3Wallet!==null||e?.passkeys.length>0||e?.externalAccounts.length>0||e?.enterpriseAccounts.length>0||e?.username!==null;return(t.id!==e?.primaryPhoneNumber?.id||!!o)&&!t.reservedForSecondFactor})||[],P=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,resourceRef:o,onReset:n}=e,l=(0,d.useCardState)(),s=o.current,u=(0,a.WZ)(()=>s?.setReservedForSecondFactor({reserved:!0})),p=()=>o.current?.prepareVerification?.()?.catch(e=>(0,B.S3)(e,[],l.setError)),h=async()=>{l.setLoading(s?.id);try{o.current=await u(),t()}catch(e){(0,B.S3)(e,[],l.setError)}finally{l.setIdle()}};return i.useEffect(()=>{p()},[]),(0,r.tZ)(b.Z.Content,{children:(0,r.tZ)(v.A,{cardTitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.title"),cardSubtitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.subtitle"),safeIdentifier:o.current?.phoneNumber||"",inputLabel:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.formTitle"),resendButton:(0,c.localizationKeys)("taskSetupMfa.smsCode.verifyPhone.resendButton"),badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),onCodeEntryFinishedAction:(e,t,r)=>{o.current?.attemptVerification({code:e}).then(async()=>{await t(),await h()}).catch(r)},onResendCodeClicked:()=>void p(),onIdentityPreviewEditClicked:()=>n(),onBackLinkClicked:()=>n(),backLinkLabel:(0,c.localizationKeys)("taskSetupMfa.smsCode.cancel")})})}),R=(0,d.withCardStateProvider)(e=>{let{resourceRef:t,onSuccess:o,onReset:i}=e,n=(0,d.useCardState)(),{user:l}=(0,a.aF)(),s=(0,a.WZ)((e,t)=>e.createPhoneNumber(t)),u=(0,M.Yp)("phoneNumber","",{type:"tel",label:(0,c.localizationKeys)("formFieldLabel__phoneNumber"),isRequired:!0}),p=u.value.length>1&&l?.username!==u.value,h=async e=>{e.preventDefault(),l&&await n.runAsync(async()=>{try{t.current=await s(l,{phoneNumber:u.value}),o()}catch(e){(0,B.S3)(e,[u],n.setError)}})};return(0,r.BX)(b.Z.Content,{children:[(0,r.BX)(S.h.Root,{gap:4,badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),children:[(0,r.tZ)(S.h.Title,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhoneNumber")}),(0,r.tZ)(S.h.Subtitle,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhone.infoText")})]}),(0,r.tZ)(b.Z.Alert,{children:n.error}),(0,r.BX)(x.l.Root,{onSubmit:h,children:[(0,r.tZ)(x.l.ControlRow,{elementId:u.id,children:(0,r.tZ)(x.l.PhoneInput,{...u.props,autoFocus:!0})}),(0,r.BX)(z.K,{sx:e=>({flexDirection:"column",gap:e.space.$4}),children:[(0,r.tZ)(x.l.SubmitButton,{hasArrow:!0,isDisabled:!p,localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhone.formButtonPrimary")}),(0,r.tZ)(x.l.ResetButton,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.cancel"),onClick:i})]})]})]})}),w=(0,d.withCardStateProvider)(e=>{let{resourceRef:t,onFinish:o}=e;return(0,r.tZ)(b.Z.Content,{children:(0,r.tZ)($.I,{title:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.title"),subtitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.message1"),headerBadgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),onFinish:o,contents:(0,r.tZ)(K.j,{backupCodes:t.current?.backupCodes,subtitle:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.message2")}),finishLabel:(0,c.localizationKeys)("taskSetupMfa.smsCode.success.finishButton"),finishButtonProps:{block:!0,hasArrow:!0}})})}),F=({phone:e,onSuccess:t,onUnverifiedPhoneClick:o,resourceRef:i})=>{let n=(0,d.useCardState)(),l=(0,a.WZ)(()=>e.setReservedForSecondFactor({reserved:!0})),{iso:s}=(0,g.y3)(e.phoneNumber),u=(0,g.uz)(s),p=(0,g.L_)(e.phoneNumber),h=async()=>{if("verified"!==e.verification.status)return o(e);n.setLoading(e.id);try{i.current=await l(),t()}catch(e){(0,B.S3)(e,[],n.setError)}finally{n.setIdle()}};return(0,r.tZ)(f.K,{isLoading:n.loadingMetadata===e.id,hoverAsFocus:!0,block:!0,elementDescriptor:c.descriptors.taskSetupMfaPhoneSelectionItem,sx:e=>({padding:`${e.space.$4} ${e.space.$6}`}),onClick:()=>void h(),children:(0,r.BX)(c.Flex,{sx:e=>({gap:e.space.$4,alignItems:"center"}),children:[(0,r.tZ)(c.Text,{sx:e=>({fontSize:e.fontSizes.$lg}),children:u}),(0,r.tZ)(c.Text,{variant:"buttonLarge",children:p})]})})},X=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,onReset:o,onAddPhoneClick:i,onUnverifiedPhoneClick:n,resourceRef:l}=e,{user:s}=(0,a.aF)(),u=(0,d.useCardState)();if(!s)return null;let p=A(s);return(0,r.tZ)(c.Flow.Part,{part:"phoneCode",children:(0,r.BX)(b.Z.Content,{sx:e=>({padding:e.space.$none}),children:[(0,r.BX)(S.h.Root,{showLogo:!0,gap:4,badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),sx:e=>({paddingTop:e.space.$8,paddingInline:e.space.$8}),children:[(0,r.tZ)(S.h.Title,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.title")}),(0,r.tZ)(S.h.Subtitle,{localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.subtitle")})]}),u.error&&(0,r.tZ)(c.Flex,{sx:e=>({paddingInline:e.space.$8}),children:(0,r.tZ)(b.Z.Alert,{children:u.error})}),(0,r.BX)(c.Col,{children:[(0,r.BX)(h.eX,{role:"menu",elementDescriptor:c.descriptors.taskSetupMfaPhoneSelectionItems,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100}),children:[p?.map(e=>(0,r.tZ)(F,{phone:e,onSuccess:t,onUnverifiedPhoneClick:n,resourceRef:l},e.id)),(0,r.tZ)(h.aU,{hoverAsFocus:!0,label:(0,c.localizationKeys)("taskSetupMfa.smsCode.addPhoneNumber"),block:!0,onClick:i,icon:m.mm,elementDescriptor:c.descriptors.taskSetupMfaPhoneSelectionAddPhoneAction,sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,padding:`${e.space.$4} ${e.space.$4}`,gap:e.space.$2}),iconSx:e=>({width:e.sizes.$8,height:e.sizes.$6})})]}),(0,r.tZ)(c.Flex,{justify:"center",sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,padding:e.space.$4}),children:(0,r.tZ)(c.Button,{variant:"ghost",onClick:o,block:!0,elementDescriptor:c.descriptors.formButtonReset,localizationKey:(0,c.localizationKeys)("taskSetupMfa.smsCode.cancel")})})]})]})})}),_=e=>{let{onSuccess:t,goToStartStep:o}=e,{user:l}=(0,a.aF)(),s=(0,i.useRef)(),c=(0,i.useMemo)(()=>l?A(l):[],[l]),d=(0,n.a2)({defaultStep:2*!!(c.length>0)});return(0,r.BX)(b.Z.Root,{children:[(0,r.BX)(n.en,{...d.props,animate:!1,children:[(0,r.tZ)(R,{resourceRef:s,onSuccess:d.nextStep,onReset:()=>c.length>0?d.goToStep(2):o()}),(0,r.tZ)(P,{resourceRef:s,onSuccess:()=>d.goToStep(3),onReset:()=>d.goToStep(0)}),(0,r.tZ)(X,{availablePhones:c,onSuccess:d.nextStep,onReset:o,onAddPhoneClick:()=>d.goToStep(0),onUnverifiedPhoneClick:e=>{s.current=e,d.goToStep(1)},resourceRef:s}),(0,r.tZ)(w,{resourceRef:s,onFinish:t})]}),(0,r.tZ)(b.Z.Footer,{children:(0,r.tZ)(C,{})})]})};var I=o(41024),L=o(68864),W=o(12667),N=o(68487),D=o(58104);let E=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,onReset:o}=e,{user:l}=(0,a.aF)(),s=(0,d.useCardState)(),u=(0,a.WZ)(()=>l?.createTOTP()),[p,h]=i.useState(void 0),[b,S]=i.useState("qr");return i.useEffect(()=>{l&&u().then(e=>h(e)).catch(e=>(0,I.uX)(e)&&"reverification_cancelled"===e.code?o():(0,B.S3)(e,[],s.setError))},[]),(0,r.BX)(N.Y,{gap:8,headerTitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.title"),headerTitleTextVariant:"h2",headerSubtitle:"qr"===b?(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.infoText__ableToScan"):(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.infoText__unableToScan"),badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),children:[!p&&(0,r.tZ)(D.m,{}),p&&(0,r.BX)(r.HY,{children:[(0,r.BX)(c.Col,{gap:4,children:["qr"===b&&(0,r.tZ)(n.s_,{justify:"center",url:p.uri||""}),"uri"===b&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.Text,{colorScheme:"secondary",localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.inputLabel__unableToScan1")}),(0,r.tZ)(L.D,{value:p.secret,copyIcon:m.uU,copiedIcon:m.Jr})]})]}),(0,r.BX)(c.Col,{sx:e=>({gap:e.space.$8}),children:["qr"===b&&(0,r.tZ)(c.Button,{variant:"outline",textVariant:"buttonLarge",onClick:()=>S("uri"),localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.buttonUnableToScan__nonPrimary")}),"uri"===b&&(0,r.tZ)(c.Button,{variant:"outline",block:!0,textVariant:"buttonLarge",onClick:()=>S("qr"),localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.buttonAbleToScan__nonPrimary")}),(0,r.BX)(z.K,{sx:e=>({flexDirection:"column",gap:e.space.$4}),children:[(0,r.tZ)(c.Button,{block:!0,onClick:t,hasArrow:!0,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.formButtonPrimary"),elementDescriptor:c.descriptors.formButtonPrimary}),(0,r.tZ)(c.Button,{block:!0,variant:"ghost",onClick:o,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.addAuthenticatorApp.formButtonReset"),elementDescriptor:c.descriptors.formButtonReset})]})]})]})]})}),U=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,onReset:o,resourceRef:i}=e,{user:n}=(0,a.aF)(),l=(0,W.e3)({onCodeEntryFinished:(e,t,o)=>{n?.verifyTOTP({code:e}).then(e=>t(e)).catch(o)},onResolve:e=>{i.current=e,t()}});return(0,r.BX)(N.Y,{gap:8,headerTitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.title"),headerTitleTextVariant:"h2",headerSubtitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.subtitle"),badgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),children:[(0,r.tZ)(c.Col,{children:(0,r.tZ)(x.l.OTPInput,{...l,label:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.formTitle"),description:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.subtitle")})}),(0,r.BX)(z.K,{sx:e=>({flexDirection:"column",gap:e.space.$4}),children:[(0,r.tZ)(c.Button,{onClick:()=>l.onFakeContinue(),isDisabled:l.isLoading,hasArrow:!0,block:!0,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.formButtonPrimary"),elementDescriptor:c.descriptors.formButtonPrimary}),(0,r.tZ)(c.Button,{onClick:()=>o?.(),variant:"ghost",block:!0,isDisabled:l.isLoading,localizationKey:(0,c.localizationKeys)("taskSetupMfa.totpCode.verifyTotp.formButtonReset"),elementDescriptor:c.descriptors.formButtonReset})]})]})}),j=(0,d.withCardStateProvider)(e=>{let{resourceRef:t,onFinish:o}=e;return(0,r.tZ)($.I,{title:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.title"),subtitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.message1"),headerBadgeText:(0,c.localizationKeys)("taskSetupMfa.badge"),onFinish:o,contents:(0,r.tZ)(K.j,{backupCodes:t.current?.backupCodes,subtitle:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.message2")}),finishLabel:(0,c.localizationKeys)("taskSetupMfa.totpCode.success.finishButton"),finishButtonProps:{block:!0,hasArrow:!0}})}),O=(0,d.withCardStateProvider)(e=>{let{onSuccess:t,goToStartStep:o}=e,a=(0,i.useRef)(),l=(0,n.a2)({defaultStep:0});return(0,r.BX)(b.Z.Root,{children:[(0,r.tZ)(b.Z.Content,{children:(0,r.BX)(n.en,{...l.props,animate:!1,children:[(0,r.tZ)(E,{onSuccess:()=>l.goToStep(1),onReset:o}),(0,r.tZ)(U,{onSuccess:()=>l.goToStep(2),onReset:()=>l.goToStep(0),resourceRef:a}),(0,r.tZ)(j,{resourceRef:a,onFinish:t})]})}),(0,r.tZ)(b.Z.Footer,{children:(0,r.tZ)(C,{})})]})}),q=(0,l.withCoreSessionSwitchGuard)((0,p.R)((0,d.withCardStateProvider)(()=>{let e=(0,a.cL)(),{user:t}=(0,a.aF)(),{session:o}=(0,a.kP)(),{userSettings:{attributes:d}}=(0,l.useEnvironment)(),p=(0,i.useMemo)(()=>{let e=t?(0,u.kZ)(d,t):[];if(!t?.enterpriseAccounts||0===t.enterpriseAccounts.length)return e;let o=t?.enterpriseAccounts[0];return e.filter(e=>"phone_code"!==e||o?.enterpriseConnection?.disableAdditionalIdentifications===!1)},[d,t]),h=p.indexOf("phone_code")>-1?1:2,b=(0,n.a2)({defaultStep:p.length>1?0:h}),{redirectUrlComplete:S}=(0,s.Id)(),{navigateOnSetActive:f,redirectOnActiveSession:m}=(0,s.G)(),y=async()=>{m&&(m.current=!1),await e.setActive({session:o?.id,navigate:async({session:e})=>{await f?.({session:e,redirectUrlComplete:S})}})};return(0,i.useEffect)(()=>{m&&(m.current=!1)},[m]),(0,r.tZ)(c.Flow.Root,{flow:"taskSetupMfa",children:(0,r.BX)(n.en,{...b.props,animate:!1,children:[(0,r.tZ)(c.Flow.Part,{part:"methodSelectionMFA",children:(0,r.tZ)(T,{availableMethods:p,goToStep:b.goToStep})}),(0,r.tZ)(c.Flow.Part,{part:"phoneCode2Fa",children:(0,r.tZ)(_,{onSuccess:y,goToStartStep:()=>b.goToStep(0)})}),(0,r.tZ)(c.Flow.Part,{part:"totp2Fa",children:(0,r.tZ)(O,{onSuccess:y,goToStartStep:()=>b.goToStep(0)})})]})})}),"setup-mfa"))},31753:function(e,t,o){o.d(t,{R:()=>p,U:()=>n});var r=o(95274),a=o(96231),i=o(86988);let n=(e,t)=>{let o=e.displayName||e.name||"Component";e.displayName=o;let n=o=>{let n=(0,i.G)();return(0,a.me)(e,e=>!e.session?.currentTask||e.session.currentTask.key!==t&&!e.__internal_setActiveInProgress,({clerk:e})=>e.session?n.redirectUrlComplete??e.buildAfterSignInUrl():e.buildSignInUrl(),r.q.cannotRenderComponentWhenTaskDoesNotExist)(o)};return n.displayName=`withTaskGuard(${o})`,n};var l=o(73312),s=o(32186),c=o(61869),d=o(69144),u=o(24676);let p=(e,t)=>{let o=e.displayName||e.name||"Component";e.displayName=o;let a=o=>{let a=(0,i.G)(),n=(0,c.cL)(),{navigate:p}=(0,u.useRouter)(),h=(0,d.useRef)(null);return(null===h.current&&(h.current=!n.session?.currentTask||n.session.currentTask.key!==t&&!n.__internal_setActiveInProgress),(0,d.useEffect)(()=>{h.current&&((0,s.kZ)(n.publishableKey)&&console.info(r.q.cannotRenderComponentWhenTaskDoesNotExist),p(n.session?a.redirectUrlComplete??n.buildAfterSignInUrl():n.buildSignInUrl()))},[]),h.current)?null:(0,l.tZ)(e,{...o})};return a.displayName=`withTaskGuardOnlyOnMount(${o})`,a}},85838:function(e,t,o){o.d(t,{j:()=>p});var r=o(73312),a=o(61869),i=o(95878),n=o(96231),l=o(11576),s=o(64204),c=o(65695),d=o(34174);let u=e=>{let{code:t}=e;return(0,r.tZ)(s.Flex,{center:!0,sx:e=>({padding:`${e.space.$1} ${e.space.$4}`}),children:(0,r.tZ)(s.Text,{children:t})})},p=e=>{let{subtitle:t,backupCodes:o}=e,{applicationName:p}=(0,l.useEnvironment)().displayConfig,{user:h}=(0,a.aF)(),{print:b,printableProps:S}=(0,n.Qz)(),{onCopy:f,hasCopied:m}=(0,c.VP)(o?.join(",")||"");if(!h)return null;let y=(0,i.xC)(h);return o?(0,r.BX)(r.HY,{children:[(0,r.BX)(s.Col,{gap:1,children:[(0,r.tZ)(s.Text,{localizationKey:(0,s.localizationKeys)("userProfile.backupCodePage.title__codelist"),variant:"subtitle"}),(0,r.tZ)(s.Text,{localizationKey:t,variant:"caption",colorScheme:"secondary"})]}),(0,r.BX)(s.Box,{sx:e=>({borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$borderAlpha100,borderRadius:e.radii.$lg}),children:[(0,r.tZ)(s.Grid,{gap:2,sx:e=>({gridTemplateColumns:`repeat(2, minmax(${e.sizes.$12}, 1fr))`,padding:`${e.space.$4} ${e.space.$6}`}),children:o.map((e,t)=>(0,r.tZ)(u,{code:e},t))}),(0,r.BX)(s.Grid,{sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$borderAlpha100,gridTemplateColumns:"repeat(3, minmax(0, 1fr))",">:not([hidden])~:not([hidden])":{borderRightWidth:"0px",borderLeftWidth:"1px",borderStyle:"solid",borderColor:e.colors.$borderAlpha100},">:first-child":{borderBottomLeftRadius:e.radii.$lg},">:last-child":{borderBottomRightRadius:e.radii.$lg}}),children:[(0,r.tZ)(s.Button,{variant:"ghost",sx:e=>({width:"100%",padding:`${e.space.$2} 0`,borderRadius:0}),onClick:()=>{let e=document.createElement("a"),t=new Blob([function(e,t,o){let r=e?.join("\n");return`These are your backup codes for ${t} account ${o}.
Store them securely and keep them secret. Each code can only be used once.

${r}`}(o,p,y)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download=`${p}_backup_codes.txt`,document.body.appendChild(e),e.click()},children:(0,r.tZ)(s.Icon,{icon:d.UW})}),(0,r.tZ)(s.Button,{variant:"ghost",sx:e=>({width:"100%",padding:`${e.space.$2} 0`,borderRadius:0}),onClick:b,children:(0,r.tZ)(s.Icon,{icon:d.Kh})}),(0,r.tZ)(s.Button,{variant:"ghost",onClick:f,sx:e=>({width:"100%",padding:`${e.space.$2} 0`,borderRadius:0}),children:(0,r.tZ)(s.Icon,{icon:m?d.Jr:d.CK})})]})]}),(0,r.BX)(n.o4,{...S,children:[(0,r.BX)(s.Heading,{children:["Your backup codes for ",p," account ",y,":"]}),(0,r.tZ)(s.Col,{gap:2,children:o.map((e,t)=>(0,r.tZ)(u,{code:e},t))})]})]}):null}}}]);